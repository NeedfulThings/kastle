%% -*- mode: Erlang; fill-column: 80; -*-
[ { lager,
   [ { log_root, "log" }
   , { crash_log, "crash.log" }
   , { handlers
     , [ { lager_console_backend
         , [ info
           , {lager_default_formatter, [date, " ", time, " [",severity,"] ", module, "(", pid, "): ", message, "\n"]}
           ]
         }
       , { lager_file_backend, [ {file, "error.log"},  {level, error}]}
       , { lager_file_backend, [ {file, "warn.log"},   {level, warning}]}
       , { lager_file_backend, [ {file, "info.log"},   {level, info}]}
       %% This backend should only be used for development,
       %% remove it for production.
       , { lager_file_backend, [ {file, "debug.log"},  {level, debug}]}
       ]
     }
   ]}
, { brod,
   [ { clients,
      [ { kastle_kafka_client %% registered name
        , [ { endpoints, [ {"localhost", 9092}
                         ]}
          , { config
            , [ {restart_delay_seconds, 10} ] %% connection error
            }
          ]
        }
      ]
     }
   ]}
].
